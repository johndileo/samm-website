<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {{ $targetUrl := .Params.target }}
    
    {{ if (isset .Params "time") }}
    {{ $time := .Params.time }}
    {{ else }}
    {{ $time := 0 }}
    {{ end }}

    {{ if (isset .Params "targetname") }}
    {{ $targetname := .Params.targetname }}
    {{ else }}
    {{ $targetname := $targetUrl }}
    {{ end }}

    {{ if (isset .Params "targettitle") }}
    {{ $title := .Params.targettitle }}
    {{ else }}
    {{ $title := "Redirecting" }}
    {{ end }}

    <meta http-equiv="refresh" content="{{ $time }};url={{ $targetUrl }}"/>
    <link rel="canonical" href="{{ $targetUrl }}"/>
    <title>{{ $title }}</title>
    <style>
        body {
            font-family: sans-serif;
            max-width: 40em;
            margin: 1em auto;
        }
    </style>
</head>
<body>
    <h1>{{ $title }}</h1>
   
    {{ with .Param.message }}
    <p>{{ . }}</p>
    {{ else }}
    <p>This document has moved!</p>
    {{ end }}

    <p>Redirecting to <a href="{{ $targetUrl }}">{{ $targetname }}</a> in {{ $time }} seconds.</p>

</body>
</html>
